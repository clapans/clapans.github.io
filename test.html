<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <style>
    pre {
      border: 0.5px solid lightgray;
      background-color:  #f7f7f7;
    }

    img {
      width: 100%;
    }

    .md-container {
      width : 775px;
      margin : auto;
    }
  </style>
</head>
<body>
  <div class="md-container">
    <h3 id="-">와우</h3>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> com.example.myweb.controller;

<span class="hljs-keyword">import</span> com.example.myweb.dto.ProjectPostReq;
<span class="hljs-keyword">import</span> com.example.myweb.entity.Environment;
<span class="hljs-keyword">import</span> com.example.myweb.entity.Project;
<span class="hljs-keyword">import</span> com.example.myweb.repository.EnvironmentRepository;
<span class="hljs-keyword">import</span> com.example.myweb.repository.ProjectRepository;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.*;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProjectController</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ProjectRepository projectRepository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> EnvironmentRepository environmentRepository;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> ProjectController(ProjectRepository projectRepository, EnvironmentRepository environmentRepository) {
        <span class="hljs-keyword">this</span>.projectRepository = projectRepository;
        <span class="hljs-keyword">this</span>.environmentRepository = environmentRepository;
    }


    <span class="hljs-meta">@PostMapping(<span class="hljs-meta-string">"/project"</span>)</span>
    <span class="hljs-keyword">public</span> void regProject(<span class="hljs-meta">@RequestBody</span> ProjectPostReq projectPostReq) {
        Project project = new Project(projectPostReq.getTitle(),projectPostReq.getPeriod(),
                projectPostReq.getPersonnel(),projectPostReq.getIntroduce(),projectPostReq.getRole(),
                projectPostReq.getProcess(),projectPostReq.getMainFunction(),projectPostReq.getLearned()
        );
        projectRepository.save(project);
        projectPostReq.getEnvironment().stream().map(environment -&gt; {
            <span class="hljs-keyword">return</span> new Environment(environment, project);
        }).forEach(environmentRepository::save);
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/api/project/{id}"</span>)</span>
    <span class="hljs-keyword">public</span> Project getProject(<span class="hljs-meta">@PathVariable(<span class="hljs-meta-string">"id"</span>)</span> <span class="hljs-built_in">Long</span> id) {
        <span class="hljs-keyword">return</span> projectRepository.findById(id).orElseThrow(() -&gt; {<span class="hljs-keyword">return</span> new IllegalArgumentException(<span class="hljs-string">"wow"</span>);});
    }
</code></pre>
<h4 id="test-">test 입니다.</h4>
<p><img src="./static/230217_3.png" alt="230217_3.png"></p>

  </div>
  
</body>
</html>