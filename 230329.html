<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1783번 - 병든 나이트</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <style>
    .md-container {
      width : min(775px, 90vw);
      margin :auto;
    }

    pre {
      border: 0.5px solid lightgray;
      background-color:  #f7f7f7;
      margin-top : 30px;
      margin-bottom : 30px;
    }

    img {
      width: 100%;
      margin-top : 25px;
      margin-bottom : 25px;
    }

    h2 {
      margin-top : 40px;
      margin-bottom : 40px;
    }

    h3 {
      margin-top : 40px;
      margin-bottom : 40px;
    }
    h4 {
      margin-top : 40px;
      margin-bottom : 40px;
    }
    h5 {
      margin-top : 40px;
      margin-bottom : 40px;
    }

  </style>
</head>
<body>
  <div class="md-container">
    <h2 class="fw-bold">1783번 병든 나이트</h2>
<h4 id="-">분류 : 구현,그리디</h4>
<h4 id="-">문제</h4>
<p>병든 나이트가 N × M 크기 체스판의 가장 왼쪽아래 칸에 위치해 있다. 병든 나이트는 건강한 보통 체스의 나이트와 다르게 4가지로만 움직일 수 있다.</p>
<ol>
<li>2칸 위로, 1칸 오른쪽</li>
<li>1칸 위로, 2칸 오른쪽</li>
<li>1칸 아래로, 2칸 오른쪽</li>
<li>2칸 아래로, 1칸 오른쪽</li>
</ol>
<p>병든 나이트는 여행을 시작하려고 하고, 여행을 하면서 방문한 칸의 수를 최대로 하려고 한다. 병든 나이트의 이동 횟수가 4번보다 적지 않다면, 이동 방법을 모두 한 번씩 사용해야 한다. 이동 횟수가 4번보다 적은 경우(방문한 칸이 5개 미만)에는 이동 방법에 대한 제약이 없다.</p>
<p>체스판의 크기가 주어졌을 때, 병든 나이트가 여행에서 방문할 수 있는 칸의 최대 개수를 구해보자.</p>
<h4 id="-">풀이</h4>
<p>입력으로 주어진 가로,세로 체스판의 크기는 각각 20억보다 크거나 같은 자연수이다.</p>
<p>시간 제한은 2초로 일반적으로 20억개 정도 연산이 가능한 시간이다.</p>
<p>dfs로 풀기에는 체스판이 너무 크고 dp로 효율을 높인다 해도 시간 초과를 면하지는 못 할 것이다.</p>
<p>이 게임의 나이트는 왼쪽으로 움직일 수 없다.</p>
<p>이 말은 즉, <strong>한 열에는 한 개 이상의 나이트가 놓을 수 없다는 것을 의미한다.</strong></p>
<p>여기서 충분히 큰 자연수 N,M의 경우를 생각해보자</p>
<p>M(가로길이)가 충분히 큰 경우 이동 가능한 칸의 최대 개수는 5개 이상일 것이다. 따라서 이 문제의 제약인</p>
<p><strong>&#39;이동 방법을 모두 한 번씩 사용해야 한다.&#39;</strong></p>
<p>를 지키는 경우가 최대 개수의 경우일 것이다.</p>
<p>이를 만족하는 M의 최소 크기는 몇일까?</p>
<p>M=5일 경우, 모든 열에 다 나이트를 놓는다고 하면 이동 횟수는 4회가 된다.(N &gt;= 3)</p>
<p>하지만 이는</p>
<p><strong>&#39;이동 횟수가 4번보다 적지 않다면, 이동 방법을 모두 한 번씩 사용해야 한다.&#39;</strong></p>
<p>는 제약조건을 만족하지 않는다.</p>
<p>오른쪽으로 2칸 이동하는 2,3을 한 번 이용하면 이동 횟수가 4번보다 적은 3번이 되고 이 경우가 최대 경우의 수가 된다.</p>
<p>이는 <strong>&#39;이동 방법을 모두 한 번씩 사용해야 한다.&#39;</strong></p>
<p>를 지키는 경우가 아님으로 M의 최소 크기는 이보다 크다.</p>
<p>M=6일 경우, 모든 열에 다 나이트를 놓는다고 하면 이동 횟수는 5회가 된다.(N &gt;= 3)</p>
<p>오른쪽으로 2칸 이동하는 2,3을 두 번은 사용해야 <strong>&#39;이동 횟수가 4번보다 적지 않다면, 이동 방법을 모두 한 번씩 사용해야 한다.&#39;</strong> 를 만족하게 된다.</p>
<p>그러나 이는 어차피 <strong>&#39;이동 방법을 모두 한 번씩 사용해야 한다.&#39;</strong> 인 경우가 최대 경우임으로</p>
<p>M의 최소 크기는 6이 된다.</p>
<p>한번 지나간 열은 다시 돌아갈 수 없기 때문에 오른쪽으로 최대한 적게 이동해야한다.</p>
<p>즉 1,4번 이동만 최대한 반복하면서 진행해야한다.(이 때 필요한 최소 세로 길이는 3이다.)</p>
<p>이동 방법을 모두 한 번씩은 사용해야 하기 때문에 체스판의 열 중 최소 2개 열에는 나이트가 위치할 수 없을 것이다.</p>
<p>N이 3보다 작은 경우를 생각해보자</p>
<p>N=2인 경우, 1,4번 이동은 사용할 수 없다. 2,3번 이동만을 사용해야 한다. 따라서 최대 경우는 M+1을 2로 나눈 몫이 될 것이다.</p>
<p>(단, 최대 이동 횟수는 3회를 넘을 수 없다.)</p>
<p>N=1인 경우, 모든 이동을 사용할 수 없다. 따라서 최대 경우는 1이다.</p>
<p>정리하자면</p>
<pre><code class="lang-java">res = M - <span class="hljs-number">2</span> (N &gt;= <span class="hljs-number">3</span>, M &gt;= <span class="hljs-number">6</span>)
    = <span class="hljs-number">4</span> (N &gt;= <span class="hljs-number">3</span>, M = <span class="hljs-number">5</span>)
    = M (N &gt;= <span class="hljs-number">3</span>, M &lt;= <span class="hljs-number">4</span>)
    = min((M + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>,<span class="hljs-number">4</span>) (N = <span class="hljs-number">2</span>)
    = <span class="hljs-number">1</span> (N = <span class="hljs-number">1</span>)
</code></pre>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> java.io.<span class="hljs-keyword">BufferedReader</span>;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.InputStreamReader;

<span class="hljs-keyword">public</span> class Main {
    <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> n,m;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">BufferedReader</span> br = <span class="hljs-keyword">new</span> <span class="hljs-keyword">BufferedReader</span>(<span class="hljs-keyword">new</span> InputStreamReader(System.in));
        <span class="hljs-keyword">String</span>[] inputArr = br.readLine().<span class="hljs-built_in">split</span>(<span class="hljs-string">" "</span>);
        n = Integer.parseInt(inputArr[<span class="hljs-number">0</span>]);
        m = Integer.parseInt(inputArr[<span class="hljs-number">1</span>]);
        System.out.<span class="hljs-built_in">println</span>(getBiggestCase());
    }

    <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> getBiggestCase() {
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">if</span> (m &lt;= <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> m;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m == <span class="hljs-number">5</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;
            <span class="hljs-keyword">return</span> m - <span class="hljs-number">2</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>)
            <span class="hljs-keyword">return</span> Math.<span class="hljs-built_in">min</span>((m + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>,<span class="hljs-number">4</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
}
</code></pre>

  </div>
</body>
</html>